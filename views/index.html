{% extends "layout.html" %}

{% block content %}

<a name="scoreboard" href="#"></a>
<div class="row page-header">
<div class="shadow-box center-block col-md-6" style="float:none;">
<legend> Department Scores</legend>
<table class="mytable table table-striped table-hover">
  <thead>
    <tr>
      <th class="col-md-4">Department</th>
      <th>Score</th>
    </tr>
  </thead>
  <tbody>
  {% for d in departments %}
  <tr>
    <td>{{ d.name  }}</td>
    <td>{{ d.score }}</td>
  </tr>
  {% else %}
  <tr>
    <td colspan="3">No results found</td>
  </tr>
  {% endfor %}
  </tbody>
</table>
</div>
<a name="items" href="#"></a>
<br>

<div class="shadow-box center-block col-md-6" style="float:none;">
<legend> Item Based Result</legend>
<table class="mytable table table-striped table-hover">
  <thead>
    <tr>
      <th class="col-md-4">Item</th>
      <th>Position</th>
      <th>Name</th>
      <th>Department</th>
      <th>Semester</th>
    </tr>
  </thead>
  <tbody>
  {% set pitem = '' %}
  {% set i = -1  %}
  {% for item in items %}
  <tr>
    {% if item.id != pitem %}
      {% set pitem = item.id %}
      {% set i = i + 1 %}
      <td rowspan="{{ itemsCount[i].count }}">{{ item.name  }}</td>
    {% endif %}
    <td>{{ positions[item.position] }}</td>
    <td>{{ item.student_name }}</td>
    <td>{{ item.department_name }}</td>
    <td>s{{ item.semester }}</td>
  </tr>

  {% else %}
  <tr>
    <td colspan="3">No results found</td>
  </tr>
  {% endfor %}
  </tbody>
</table>
</div>
</div>

{% endblock %}
